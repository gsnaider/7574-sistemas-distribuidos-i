<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <title>Contabilidapp</title>
</h:head>
<body>
<h1>Cerrar periodo de carga</h1>

Aquí se puede elegir un periodo de carga abierto y cerrarlo.
<br/>
<br/>
Esto impedirá que se carguen nuevos archivos para este periodo, y habilitará
<br/>
la descarga de las transacciones conglomeradas para dicho periodo.
<br/>
<br/>
Luego de cerrar un periodo, también se podrá realizar el proceso de control para dicho periodo.
<br/>
<br/>

<h:form>
    <h:panelGrid columns="2" cellpadding="5">
        <p:outputLabel for="uploadPeriodId" value="ID de periodo:" indicateRequired="false"/>
        <p:selectOneMenu id="uploadPeriodId" value="#{closeUploadView.uploadId}" style="width:150px"
                         required="true"
                         requiredMessage="Debe elegir un periodo">
            <f:selectItem itemLabel="Elija un periodo" itemValue="" noSelectionOption="true"/>
            <f:selectItems value="#{closeUploadView.openUploadIds}"/>
        </p:selectOneMenu>

        <br/>
        <p:commandButton value="Cerrar periodo" ajax="false" actionListener="#{closeUploadView.closePeriod}"/>

        <p:growl id="messages" showDetail="true"/>

    </h:panelGrid>
</h:form>

<!--TODO maybe remove download link from here and access from index-->
<!--<h3>-->
    <!--<a href="download-aggregated.xhtml">Descargar transacciones conglomeradas</a>-->
<!--</h3>-->
<h3>
    <a href="../index.xhtml">Volver</a>
</h3>
</body>
</html>